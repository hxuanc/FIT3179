{
    "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
    "width": 500,
    "height": 500,
    "description": "Minimalist Lollipop chart with conditional colouring",
    "data": {"name": "dataset",
            "url": "https://raw.githubusercontent.com/hxuanc/FIT3179/main/DataVis2/data/World_Wide_Unicorn-Company-List-lollipop.csv"},
    "layer": [
      {"params" : [{
        "name" : "industry_highlight",
        "select" : {"type" : "point", "fields": ["Industry"]},
        "bind" : "legend"
        }],
        "description": "Lollipop Stick",
        "mark": {"type": "bar", "width":5},
        "encoding": {
          "x": {
            "field": "Company",
            "type": "nominal"
          },
          "y": {
            "field": "Valuation ($B)",
            "type": "quantitative",
            "axis": {"grid": false},
            "scale":{"domain": [0,150]}
          },
          "color": {
            "condition" : {
                "param": "industry_highlight" ,
                "field":"Industry",
                "type":"nominal",
                "scale": {"scheme":"tableau20"}
            },
            "value" :"lightgrey"
          },  "opacity": {
            "condition": {
              "param": "industry_highlight",
              "value": 1
            },
            "value": 1
          }
        }
      },
      {
        "description": "Lollipop",
        "mark": {
          "type": "point",
          "tooltip": true,
          "size": 300,
          "filled": true,
          "opacity": 1
        },
        "encoding": {
          "color": {
            "condition" : {
                "param": "industry_highlight" ,
                "field":"Industry",
                "type":"nominal",
                "scale": {"scheme":"tableau20"}
            },
            "value" :"lightgrey"
          },  "opacity": {
            "condition": {
              "param": "industry_highlight",
              "value": 1
            },
            "value": 1
          },
          "x": {
            "field": "Company",
            "type": "nominal"
          },
          "y": {
            "field": "Valuation ($B)",
            "type": "quantitative"
          }
        }
      },
      {
        "description": "Value label",
        "mark": {
          "type": "text",
          "baseline": "top",
          "dy": -20
        },
        "encoding": {
          "color": {
            "condition" : {
                "param": "industry_highlight" ,
                "field":"Industry",
                "type":"nominal",
                "scale": {"scheme":"tableau20"}
            },
            "value" :"lightgrey"
          },  "opacity": {
            "condition": {
              "param": "industry_highlight",
              "value": 1
            },
            "value": 1
          },
          "x": {
            "field": "Company",
            "type": "nominal"
          },
          "y": {
            "field": "Valuation ($B)",
            "type": "quantitative"
          },
          "text": {"field": "Company"}
        }
      }
    ],
    "config": {"view": {"stroke": null}}
} 
    