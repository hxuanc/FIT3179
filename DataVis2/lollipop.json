{
    "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
    "width": 590,
    "height": 600,
    "title": "Top 10 Most Valued Unicorn Startups around the world",
    "description": "Minimalist Lollipop chart with conditional colouring",
    "data": {"name": "dataset",
            "url": "https://raw.githubusercontent.com/hxuanc/FIT3179/main/DataVis2/data/World_Wide_Unicorn-Company-List-lollipop.csv"},
    
    "layer": [
      {"transform": [
        {"filter" : "datum.Company== 'Checkout.com'"},
        {"calculate": "'4 of the top 10 most valued companies are from the Fintech Industry'",
      "as": "annotation"}
      ],
      "mark":{
        "type" :"text",
        "dx":-50,
        "dy" : -50,
        "fontWeight":"bold"
      },
      "encoding": {"text":{"field":"annotation"}
    }},
      {
        "description": "Lollipop Stick",
        "mark": {"type": "bar", "width":8},
        "encoding": {
          "x": {
            "field": "Company",
            "type": "nominal"
          },
          "y": {
            "field": "Valuation ($B)",
            "type": "quantitative",
            "axis": {"grid": false},
            "scale":{"domain": [0,150]}
  
          },
          "color": {
            "condition" : {

              "test": "datum['Industry'] == 'Fintech'", 
              "value" : "#C689C6"
            },
            "value" :"lightgrey"
          }
        }
      },
      {
        "description": "Lollipop",
        "mark": {
          "type": "point",
          "tooltip": true,
          "size": 500,
          "filled": true,
          "opacity": 1
        },
        "encoding": {
          "color": {
            "condition" : {
              "test": "datum['Industry'] == 'Fintech'", 
              "value" : "#C689C6"
            },
            "value" :"lightgrey"
          }
          ,
          "x": {
            "field": "Company",
            "type": "nominal"
          },
          "y": {
            "field": "Valuation ($B)",
            "type": "quantitative"
          }
        }

      }
    ],
    "config": {"view": {"stroke": null}, 
    "background": "#F6F6F6"}
} 
    